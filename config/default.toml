[app]
host = "0.0.0.0"
port = 8080
environment = "development"

[database]
url = "postgres://postgres:postgres@localhost:5432/rust_backend"
max_connections = 10
min_connections = 1
acquire_timeout_seconds = 10
idle_timeout_seconds = 600
max_lifetime_seconds = 1800
test_before_acquire = true

[auth]
jwt_secret = "change-me-in-production"
jwt_kid = "v1"
previous_jwt_secrets = []
previous_jwt_kids = []
jwt_expiration_seconds = 900  # 15 minutes
refresh_token_expiration_days = 7
issuer = "rust-backend"
audience = "rust-backend-users"

# ============================================================
# Auth0 Configuration (Required for all authentication)
# ============================================================
# All authentication (email/password, Google, GitHub) now goes
# through Auth0. The backend validates Auth0 access tokens and
# does not generate its own JWTs for API authentication.
[auth0]
# Auth0 tenant domain (e.g., your-tenant.us.auth0.com)
# Required when Auth0 is enabled
auth0_domain = ""
# API audience configured in Auth0 (e.g., https://api.your-app.example)
# Required when Auth0 is enabled
auth0_audience = ""
# Issuer URL (optional, derived from auth0_domain if not set)
auth0_issuer = ""
# JWKS cache TTL in seconds (optional, default: 3600)
jwks_cache_ttl_secs = 3600
# Auth0 Client ID for Database Connection signup/login
# Required for email/password authentication flow
auth0_client_id = ""
# Auth0 Client Secret for password grant flow
# Required for email/password authentication flow
auth0_client_secret = ""
# Auth0 connection name for email/password authentication
# Default: "Username-Password-Authentication"
auth0_connection = "Username-Password-Authentication"

[security]
cors_allowed_origins = ["http://localhost:3000"]
metrics_allow_private_only = true
metrics_admin_token = ""
login_max_failures = 5
login_lockout_seconds = 300
login_backoff_base_ms = 200

[logging]
level = "info"
json_format = false

[sentry]
dsn = ""
